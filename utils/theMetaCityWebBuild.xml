<?xml version="1.0"?>
<project name="theMetaCity Web Build" default="package" basedir="../theMetaCityWeb">

    <property name="src.dir" value="."/>
    <property name="app.name" value="ROOT"/>
    <property name="productionapp.name" value="theMetaCity"/>
    <property name="deploy.dir" value="../deploy"/>
    <property name="classpath.dir" value="/usr/local/tomcat/lib"/>
    <property name="weblib.dir" value="./WEB-INF/lib"/>

    <target name="clean">
        <delete file="${deploy.dir}/${app.name}.war"/>
        <delete dir="${deploy.dir}/${app.name}"/>
    </target>

    <!-- Include on the the classes for development -->
    <target name="package" depends="clean">
        <jar destfile="${deploy.dir}/${app.name}.war" basedir="${src.dir}"
             excludes="**/*.svn"/>
    </target>

    <!-- Make new versions of the jar files.
    Useful for raid development becasue you do not have to deploy the entire webapp -->
    <target name="newjars">
        <copy file="${weblib.dir}/theMetaCityCommonTB.jar" todir="${deploy.dir}/${app.name}/WEB-INF/lib" />
        <copy file="${weblib.dir}/theMetaCityWebTB.jar" todir="${deploy.dir}/${app.name}/WEB-INF/lib" />
    </target>
    
    <!-- Include on the the classes for development -->
    <target name="production">
        <jar destfile="../${app.name}prodution.war" basedir="${src.dir}"
             excludes="**/*.svn" />
    </target>
</project>
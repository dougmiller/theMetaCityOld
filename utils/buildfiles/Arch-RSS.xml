<?xml version="1.0"?>
<project name="RSS" default="package" basedir="../../rss">
    <property name="app.name" value="rss"/>
    <property name="deploy.dir" value="/srv/http/localcity"/>
    <property name="production.dir" value="/media/tmc/"/>

    <target name="clean">
        <delete file="${deploy.dir}/${app.name}.war"/>
    </target>

    <target name="package" depends="clean">
		<!-- Error pages need to be put in and included -->
		<copy file="../utils/includes/404.jsp" todir="${basedir}/WEB-INF/jspf"/>
		<copy file="../utils/includes/500.jsp" todir="${basedir}/WEB-INF/jspf"/>
		<copy file="../utils/includes/css-testing.jspf" tofile="${basedir}/WEB-INF/jspf/css.jspf"/>
        <jar destfile="${deploy.dir}/${app.name}.war" basedir="${basedir}"/>
        <delete file="${basedir}/WEB-INF/jspf/css.jspf"/>
    </target>

    <target name="production" depends="clean">
		<!-- Error pages need to be put in and included -->
		<copy file="../utils/includes/404.jsp" todir="${basedir}/WEB-INF/jspf"/>
		<copy file="../utils/includes/500.jsp" todir="${basedir}/WEB-INF/jspf"/>
		<copy file="../utils/includes/css-production.jspf" tofile="${basedir}/WEB-INF/jspf/css.jspf"/>
        <jar destfile="${production.dir}/${app.name}.war" basedir="${basedir}"/>
        <delete file="${basedir}/WEB-INF/jspf/css.jspf"/>
    </target>
</project>
